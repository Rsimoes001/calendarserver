/* ======================================================
   Login — Telecontrol (versión PRO, consolidada)
   ====================================================== */

/* Reset mínimo */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
  margin: 0 !important;
  background: transparent !important;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
}

/* ================= Fondo a pantalla completa ================= */
.login-shell{
  position: relative;
  min-height: 100vh;
  width: 100%;
  display: grid;
  place-items: center;
  padding: 24px;
  overflow: hidden;
}

/* Degradé a full viewport (independiente del ancho del form) */
.login-shell::before{
  content: "";
  position: fixed; inset: 0; z-index: -1;
  background: linear-gradient(135deg, #2d6bff, #7a2dff);
}

/* ================= Card ================= */
.login-card{
  width: min(520px, 92vw);
  padding: 28px 28px 18px;
  border-radius: 16px;
  backdrop-filter: blur(10px) saturate(140%);
  background: color-mix(in oklab, var(--app-surface, #ffffff) 86%, #ffffff 14%);
  border: 1px solid color-mix(in oklab, var(--border, #dfe3ea) 70%, #000 30% / 12%);
  box-shadow: 0 12px 30px rgba(2,8,20,.20), 0 3px 8px rgba(2,8,20,.12);
  color: var(--app-text, #111827);
  animation: login-fade .35s ease;
}

/* ================= Marca ================= */
.login-brand{ text-align:center; margin-bottom: 16px; }
.brand-logo{ max-width: 200px; width: 100%; height: auto; display:block; margin: 0 auto 14px; object-fit: contain; }
.brand-title{ font-size: 1.45rem; font-weight: 800; letter-spacing:.2px; color: var(--primary, #2d6bff); }
.brand-subtitle{ margin-top: 4px; font-size:.95rem; color: var(--muted, #6b7280); }

/* ================= Formulario ================= */
.login-fields{ margin-top: 10px; display:grid; gap: 10px; }
.login-fields label{ font-weight: 650; font-size: .95rem; color: color-mix(in oklab, var(--app-text, #111827) 78%, #000 22%); }

.login-fields input:not([type="checkbox"]){
  width: 100%; height: 44px; padding: 0 14px;
  border: 1px solid var(--border, #dfe3ea);
  border-radius: 10px;
  background: var(--app-bg, #ffffff);
  color: var(--app-text, #111827);
  font-size: 1rem;
  transition: border-color .15s, box-shadow .15s, background-color .15s, color .15s;
}
.login-fields input:not([type="checkbox"])::placeholder{ color: var(--muted, #8a93a6); }
.login-fields input:not([type="checkbox"]):focus{
  outline: none;
  border-color: var(--primary, #2d6bff);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary, #2d6bff) 30%, transparent);
}

/* ================= Botón ================= */
.btn-primary{
  width: 100%; height: 46px; margin-top: 8px;
  border: 0; border-radius: 12px;
  background: var(--primary, #2d6bff); color:#fff;
  font-weight: 800; font-size: 1rem; cursor: pointer;
  transition: background .2s, transform .02s, box-shadow .15s;
}
.btn-primary:hover{
  background: var(--primary-hover, #2457cc);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary, #2d6bff) 24%, transparent);
}
.btn-primary:active{ transform: translateY(1px); }

/* ================= Alertas ================= */
.alert{
  margin-top: 6px; padding:.65rem .8rem; text-align:center;
  border-radius: 10px; font-size: .92rem;
  background: #ffe9eb; color: #b00020; border: 1px solid #ffcdd2;
}

/* ================= Meta (remember) ================= */
.form-meta{ margin-top: 8px; display:flex; align-items:center; justify-content: space-between; gap: 8px; }
.remember{ display:inline-flex; align-items:center; gap:8px; color: var(--muted, #6b7280); font-size: .95rem; user-select:none; cursor:pointer; }
.remember input[type="checkbox"]{ width:18px; height:18px; margin:0; accent-color: var(--primary, #2d6bff); }

/* ================= Footer ================= */
.login-footer{ margin-top: 12px; text-align:center; color: var(--muted, #6b7280); }
.login-footer small{ font-size: .82rem; opacity: .85; }

/* ================= Anim ================= */
@keyframes login-fade{ from{opacity:0; transform: translateY(8px);} to{opacity:1; transform:none;} }

/* ======================================================
   DARK THEME — estilo pro (alto contraste, inputs grafito)
   ====================================================== */
:root[data-theme="dark"] {
  --bg-degrade-a: #0f1e5a;
  --bg-degrade-b: #5b2dd6;

  --surface:   #0f1622;  /* card */
  --surface-2: #0b1220;  /* inputs */
  --text:      #e6edf7;
  --muted:     #9bb0d3;
  --border:    #1f2b45;

  --primary:       #0d6efd;
  --primary-hover: #0a5ad3;

  --danger-bg: #3a0e12; --danger-bd: #5b1a23; --danger-fg: #ffb4c0;
}

/* Fondo degradé profundo */
:root[data-theme="dark"] .login-shell::before{
  background: linear-gradient(135deg, var(--bg-degrade-a) 0%, var(--bg-degrade-b) 100%);
}

/* Card oscuro con borde y sombra */
:root[data-theme="dark"] .login-card{
  background: var(--surface);
  color: var(--text);
  border: 1px solid color-mix(in oklab, var(--border) 85%, #fff 15% / 16%);
  border-radius: 18px;
  box-shadow: 0 22px 55px rgba(0,0,0,.55), 0 8px 18px rgba(0,0,0,.35);
}

/* Tipos */
:root[data-theme="dark"] .brand-title{ color: var(--text); }
:root[data-theme="dark"] .brand-subtitle,
:root[data-theme="dark"] .login-footer,
:root[data-theme="dark"] .remember{ color: var(--muted); }
:root[data-theme="dark"] .login-fields label{ color: #cfe1ff; font-weight: 650; }

/* Inputs grafito + FIX foco blanco */
:root[data-theme="dark"] .login-fields input:not([type="checkbox"]){
  background: var(--surface-2);
  color: var(--text);
  border: 1px solid #24324e;
  border-radius: 10px;
}
:root[data-theme="dark"] .login-fields input::placeholder{ color: #7f93b8; }
:root[data-theme="dark"] .login-fields input:not([type="checkbox"]):focus{
  background: var(--surface-2);            /* ← evita “mancha blanca” */
  color: var(--text);
  border-color: var(--primary);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 30%, transparent);
  outline: none;
}

/* Botón */
:root[data-theme="dark"] .btn-primary{
  background: var(--primary);
  color: #fff;
  border: 0; border-radius: 12px;
  box-shadow: none;
}
:root[data-theme="dark"] .btn-primary:hover{
  background: var(--primary-hover);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 22%, transparent);
}

/* Alerta en dark */
:root[data-theme="dark"] .alert{
  background: var(--danger-bg);
  border: 1px solid var(--danger-bd);
  color: var(--danger-fg);
}

/* Logo ligeramente atenuado (opcional) */
:root[data-theme="dark"] .brand-logo{ filter: saturate(95%) brightness(0.95) contrast(1.05); }

/* ====== Autofill (Chrome/Edge) — ambos temas ====== */
.login-fields input:-webkit-autofill{
  transition: background-color 9999s ease-out, color 9999s ease-out;
}
:root[data-theme="dark"] .login-fields input:-webkit-autofill{
  -webkit-text-fill-color: var(--text);
  box-shadow: 0 0 0 1000px var(--surface-2) inset;
  caret-color: var(--text);
  border-color: #2a3b5e;
}

:root[data-theme="dark"] {
  --bg:#0f172a;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --card-shadow: 0 18px 40px rgba(0,0,0,.45);
}
:root[data-theme="dark"] .login-card { background: var(--bg); }

:root[data-theme="dark"] .login-fields input:not([type="checkbox"]) {
  background:#0b1220;
  border-color:#253047;
  color:#e5e7eb;
}

:root[data-theme="dark"] .alert{
  background:#3b0b12;
  border-color:#5b1a23;
  color:#ffb4c0;
}
